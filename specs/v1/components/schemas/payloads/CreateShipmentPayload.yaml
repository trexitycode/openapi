description: Payload object used to create a shipment
type: object
required:
  - parcels
properties:
  locationId:
    type: string
    description: Optionally set Location that this Shipment will belong to. Please see [Locations](#tag/Locations)
  scheduledPostAt:
    type: 'string'
    deprecated: true
    description: |
      Deprecated. If you want to schedule a shipment, use exactly one of:
      1) pickup windows (pickupStartAt/pickupEndAt)
      2) delivery windows (deliverStartAt, deliverEndAt)
  deliverStartAt:
    description: |
      The start of the Delivery Windows. Only date and hours/minutes will be used to match it to your delivery windows.
      To see your delivery windows, please visit the merchant portal and head over to the API settings: https://merchant.trexity.com/api
    $ref: '../SimplifiedDateISOString.yaml'
  deliverEndAt:
    description: |
      The start of the Delivery Windows. Only date and hours/minutes will be used to match it to your delivery windows.
      To see your delivery windows, please visit the merchant portal and head over to the API settings: https://merchant.trexity.com/api
    $ref: '../SimplifiedDateISOString.yaml'
  pickupStartAt:
    description: |
      The start of the Pickup Windows. Only date and hours/minutes will be used to match it to your pickup windows.
      The list of available Pickup Windows can be found here: https://trexity.zendesk.com/hc/en-us/articles/16940024932627-Pickup-windows
    $ref: '../SimplifiedDateISOString.yaml'
  pickupEndAt:
    description: |
      The end of the Pickup Windows. Only date and hours/minutes will be used to match it to your pickup windows.
      The list of available Pickup Windows can be found here: https://trexity.zendesk.com/hc/en-us/articles/16940024932627-Pickup-windows
    $ref: '../SimplifiedDateISOString.yaml'
  pickupAddress:
    $ref: ../Address.yaml
  pickupAddressNotes:
    type: string
    description: Extra information relating to the pickup address ONLY, like the apartment/unit number.
  requirements:
    $ref: ../ShipmentRequirements.yaml
  pickupInstructions:
    type: string
    description: |
      **(RENAMED FROM pickupNotes TO pickupInstructions IN v1.16) pickupNotes will still be accepted**
      Special notes or instructions regarding pickup like the description of the location, what door to use, etc.
  merchantPpid:
    type: string
    description: Partner-provided ID of the merchant. This ID can be used when querying for shipments. Only used by Partner accounts.
  merchantName:
    type: string
    description: Partner-provided name of the merchant. This will be displayed in place of the merchant name defined in the merchant profile. Only used by Partner accounts.
  merchantPhone:
    type: string
    description: Partner-provided phone of the merchant. This will be displayed in place of the merchant phone defined in the merchant profile. Only used by Partner accounts.
  merchantEmail:
    type: string
    description: Partner-provided email of the merchant. This will be displayed in place of the merchant email defined in the merchant profile. Only used by Partner accounts.
  ignoreTargetDeliveryDuration:
    type: boolean
    deprecated: true
    description: |
      **DEPRECATED AS OF v1.18**

      ~~Ignore the target delivery duration for this shipment only~~
  parcels:
    type: array
    description: The parcels that will be delivered in this shipment
    minItems: 1
    maxItems: 30
    items:
      allOf:
        - $ref: ./ParcelPayload.yaml
        - $ref: ./SpecialParcelFields.yaml
        - type: object
          required:
            - deliveryAddress
            - deliveryName
            - description
            - orderId
            - parcelValue
