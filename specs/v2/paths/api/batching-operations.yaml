post:
  operationId: createBatchingOperation
  tags: [Batching]
  summary: Create batching operation
  x-codeSamples:
    - $ref: '../../code_samples/batching/createBatchingOperation.shell.yaml'
  description: |
    Create a batching operation that optimizes a large set of deliveries from the same pickup location into efficient route plans.

    ### Pickup location and pickup window
    A thing to note is that shipments provided to a batching operation must all have the **same pickup location**, and **cannot have a pickup window specified**.
    To schedule for a pickup window, you can update any shipment that was created after a [Create "create shipments" operation](#operation/createBatchingCreateShipmentsOperation) has completed. This will set the pickup window for all shipments created from a batching operation.

    **All order IDs must be unique.**

  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ../../components/schemas/BatchingOperationDTO.yaml

  responses:
    '200':
      description: Success
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                $ref: ../../components/schemas/BatchingOperation.yaml
    '400':
      $ref: ../../components/responses/400.yaml
    '401':
      $ref: ../../components/responses/401.yaml
    '403':
      $ref: ../../components/responses/403.yaml
